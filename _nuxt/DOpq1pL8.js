import{g as y,N as F,r as g,E as N,P as A,c,o as l,a as s,D as k,F as R,B,s as f,w as S,n as i,p as r,y as b,S as m,t as x,_ as M,G as $,H as D}from"./W0gg2iT2.js";import{u as E,a as L,S as W}from"./xNOeJ__8.js";import{_ as H}from"./BjTfba1Q.js";import{r as P}from"./C1zK1Oh0.js";import{u as V}from"./BqH7K42C.js";import"./D7RL2lsT.js";import"./Dn-7A9HV.js";import"./DjJsUMRz.js";import"./thMZiv61.js";import"./B3yYYe44.js";import"./D0YaOiqp.js";import"./DzTNQ5N8.js";const G={class:"relative w-full mx-auto bg-white shadow-xl flex flex-col overflow-hidden",style:{height:"var(--app-height)",minHeight:"var(--app-height)"}},q={class:"absolute bottom-0 left-0 w-full"},J={class:"w-full bg-emerald-500 border-t border-emerald-600/60 shadow-[0_-10px_30px_rgba(6,95,70,0.28)] rounded-t-3xl px-3 pt-2 pb-3 text-emerald-50",style:{"padding-bottom":"calc(12px + env(safe-area-inset-bottom))"}},K={class:"flex items-stretch justify-between"},O={class:"relative z-10 inline-flex items-center justify-center"},Q={key:0,class:"absolute -top-2.5 -right-3 min-w-[16px] h-[16px] px-1 rounded-full bg-rose-500 text-[9px] leading-[13px] text-white flex items-center justify-center shadow ring-[1.5px] ring-white/90"},U=["onClick"],X={class:"relative z-10 inline-flex items-center justify-center"},Y={key:0,class:"absolute -top-2.5 -right-3 min-w-[16px] h-[16px] px-1 rounded-full bg-rose-500 text-[9px] leading-[13px] text-white flex items-center justify-center shadow ring-[1.5px] ring-white/90"},Z=y({__name:"ShellMobile",setup(C){const u=F(),{sidebarMenu:d}=E(),t=L(),w=V(),h=g(null),v=g(!0),I=()=>new Promise(a=>{if(!h.value)return a();const o=h.value,p=()=>{o.removeEventListener("scroll",e),a()},e=()=>{o.scrollTop===0&&p()};if(o.addEventListener("scroll",e),o.scrollTop===0){p();return}o.scrollTo({top:0,behavior:"smooth"})}),T=()=>{h.value?.scrollTo({top:0,behavior:"smooth"})},j=()=>{const a=d.value.findIndex(o=>!o.external&&o.to===u.path);a!==-1&&t.setActive(a)},_=async(a,o)=>{if(o.external){window.open(o.to,"_self");return}if(a!==0&&w.activeFilter!=="in_progress"&&w.setActiveFilter("in_progress"),t.activeIndex===a&&u.path===o.to){await I(),await P();return}t.setActive(a)};return N(()=>u.path,async()=>{if(j(),v.value){v.value=!1;return}await A(),T()},{immediate:!0}),(a,o)=>{const p=H;return l(),c("div",G,[s("main",{ref_key:"scrollContainer",ref:h,class:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden overscroll-y-none px-3 pt-3 pb-3 sm:px-4 sm:pt-4",style:{"padding-bottom":"calc(84px + env(safe-area-inset-bottom))"}},[k(a.$slots,"default",{},void 0,!0)],512),s("nav",q,[s("div",J,[s("ul",K,[(l(!0),c(R,null,B(r(d),(e,n)=>(l(),c("li",{key:e.to,class:"flex-1"},[e.external?(l(),c("button",{key:1,type:"button",onClick:z=>_(n,e),class:"relative isolate group flex flex-col items-center justify-center py-3 text-[11px] font-medium gap-1.5 w-full transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/80 rounded-xl"},[s("span",{class:i(["absolute inset-x-1 inset-y-1 rounded-xl transition-all duration-200 z-0 pointer-events-none",r(t).activeIndex===n?"bg-white/22 ring-1 ring-white/70 shadow-[0_8px_20px_rgba(2,44,34,0.35)] translate-y-[-2px]":"bg-transparent group-hover:bg-white/10"])},null,2),s("div",X,[(l(),f(m(e.icon),{class:i(["w-5 h-5 transition-all duration-200 will-change-transform filter drop-shadow-[0_1px_1px_rgba(0,0,0,0.25)]",r(t).activeIndex===n?"text-white scale-110 translate-y-[-1px]":"text-white/55 group-hover:text-white/85"])},null,8,["class"])),s("span",{class:i(["absolute -bottom-1 h-0.5 w-5 rounded-full transition-all duration-200",r(t).activeIndex===n?"bg-white/90 opacity-100 scale-100":"opacity-0 scale-50"])},null,2),e.badge?(l(),c("span",Y,x(e.badge),1)):b("",!0)]),s("span",{class:i(["relative z-10 mt-0.5 max-w-[80px] text-center leading-snug whitespace-normal break-words transition-colors duration-200 min-h-[28px]",r(t).activeIndex===n?"text-white font-semibold":"text-white/70 group-hover:text-white/90"])},x(e.label),3)],8,U)):(l(),f(p,{key:0,to:e.to,onClick:z=>_(n,e),class:"relative isolate group flex flex-col items-center justify-center py-3 text-[11px] font-medium gap-1.5 w-full transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/80 rounded-xl"},{default:S(()=>[s("span",{class:i(["absolute inset-x-1 inset-y-1 rounded-xl transition-all duration-200 z-0 pointer-events-none",r(t).activeIndex===n?"bg-white/22 ring-1 ring-white/70 shadow-[0_8px_20px_rgba(2,44,34,0.35)] translate-y-[-2px]":"bg-transparent group-hover:bg-white/10"])},null,2),s("div",O,[(l(),f(m(e.icon),{class:i(["w-5 h-5 transition-all duration-200 will-change-transform filter drop-shadow-[0_1px_1px_rgba(0,0,0,0.25)]",r(t).activeIndex===n?"text-white scale-110 translate-y-[-1px]":"text-white/55 group-hover:text-white/85"])},null,8,["class"])),s("span",{class:i(["absolute -bottom-1 h-0.5 w-5 rounded-full transition-all duration-200",r(t).activeIndex===n?"bg-white/90 opacity-100 scale-100":"opacity-0 scale-50"])},null,2),e.badge?(l(),c("span",Q,x(e.badge),1)):b("",!0)]),s("span",{class:i(["relative z-10 mt-0.5 max-w-[80px] text-center leading-snug whitespace-normal break-words transition-colors duration-200 min-h-[28px]",r(t).activeIndex===n?"text-white font-semibold":"text-white/70 group-hover:text-white/90"])},x(e.label),3)]),_:2},1032,["to","onClick"]))]))),128))])])])])}}}),ee=M(Z,[["__scopeId","data-v-09792452"]]),he=y({__name:"default",setup(C){const u=$(),{isMobile:d}=D(u);return(t,w)=>(l(),f(m(r(d)?ee:W),null,{default:S(()=>[k(t.$slots,"default")]),_:3}))}});export{he as default};
