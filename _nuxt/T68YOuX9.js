import{g as j,A as n,c as x,a as t,V as L,b as B,p as C,t as l,F as g,B as b,o as r,C as M,n as i,d as N}from"./W0gg2iT2.js";import{A}from"./CFEcHXgB.js";import"./Dn-7A9HV.js";const D={class:"min-h-screen bg-slate-50 pb-10"},T={class:"border-b border-slate-100 bg-white/80 backdrop-blur"},V={class:"mx-auto flex max-w-5xl items-center justify-between px-4 py-3 lg:py-4"},R={class:"flex items-center gap-3"},S={class:"mx-auto mt-4 max-w-5xl space-y-4 px-4 lg:px-8"},z={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},H={class:"rounded-2xl bg-white p-4 shadow-sm lg:p-5"},E={class:"mt-1 text-[20px] font-bold text-slate-900 tabular-nums leading-tight lg:text-[22px]"},I={class:"rounded-2xl bg-white p-4 shadow-sm lg:p-5"},P={class:"mt-1 text-[20px] font-bold text-rose-600 tabular-nums leading-tight lg:text-[22px]"},U={class:"mt-1 text-[10px] text-slate-400 lg:text-[11px]"},$={class:"rounded-2xl bg-white p-4 shadow-sm lg:p-5"},q={class:"flex h-40 items-end justify-between gap-3 md:h-48 lg:h-56"},G={class:"flex w-full flex-1 items-end justify-center"},J={class:"mt-0.5 text-center text-[9px] leading-tight text-slate-500 md:text-[10px]"},K={class:"space-y-3"},O={class:"flex items-start gap-3"},Q={class:"flex-1"},W={class:"flex items-center justify-between gap-2"},X={class:"text-[13px] font-semibold text-slate-900 lg:text-[14px]"},Y={class:"mt-1 text-[10px] text-slate-400 lg:text-[11px]"},Z="24 ตุลาคม 2568",tt="บริษัท เพชร ซอฟแวร์ จำกัด",ot=j({__name:"aging-report",setup(et){const f=L(),h=()=>f.back(),d=[{key:"lt30",label:"ค้างไม่เกิน 30 วัน",shortLabel:"ไม่เกิน 30",days:"0–30 วัน",amount:197439697e-2,tone:"fresh"},{key:"30to59",label:"ค้าง 30 ถึง 59 วัน",shortLabel:"30–59",days:"31–59 วัน",amount:152066628e-2,tone:"warn"},{key:"60to89",label:"ค้าง 60 ถึง 89 วัน",shortLabel:"60–89",days:"60–89 วัน",amount:154822128e-2,tone:"mid"},{key:"gt90",label:"ค้างมากกว่า 90 วัน",shortLabel:"90+",days:"90+ วัน",amount:6221638637e-2,tone:"late"}],o=n(()=>d.reduce((e,s)=>e+s.amount,0)),m=n(()=>d.filter(e=>e.key!=="lt30").reduce((e,s)=>e+s.amount,0)),v=n(()=>o.value===0?0:m.value/o.value*100),_=n(()=>Math.max(...d.map(e=>e.amount),1)),p=n(()=>d.map(e=>({...e,percent:o.value===0?0:e.amount/o.value*100,barHeight:Math.max(e.amount/_.value*100,10)}))),c=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e),y=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"k":e.toFixed(0),u=e=>{switch(e){case"fresh":return"text-emerald-600";case"warn":return"text-amber-600";case"mid":return"text-violet-600";case"late":return"text-orange-600"}},w=e=>{switch(e){case"fresh":return"bg-emerald-500";case"warn":return"bg-amber-500";case"mid":return"bg-violet-500";case"late":return"bg-orange-500"}},k=e=>{switch(e){case"fresh":return"bg-emerald-500";case"warn":return"bg-amber-500";case"mid":return"bg-violet-500";case"late":return"bg-orange-500"}},F=e=>{switch(e){case"fresh":return"bg-emerald-50 text-emerald-700";case"warn":return"bg-amber-50 text-amber-700";case"mid":return"bg-violet-50 text-violet-700";case"late":return"bg-orange-50 text-orange-700"}};return(e,s)=>(r(),x("div",D,[t("header",T,[t("div",V,[t("div",R,[t("button",{class:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-100 active:scale-95",onClick:h,"aria-label":"back"},[B(C(A),{class:"h-4 w-4 text-slate-700"})]),s[0]||(s[0]=t("div",null,[t("p",{class:"text-[15px] font-semibold text-slate-900 lg:text-[16px]"}," รายงานอายุหนี้ "),t("p",{class:"text-[11px] text-slate-500 lg:text-[12px]"}," ลูกหนี้คงค้างตามช่วงเวลา ")],-1))]),t("div",{class:"text-right"},[s[1]||(s[1]=t("p",{class:"text-[10px] text-slate-400 lg:text-[11px]"},"อัปเดตล่าสุด",-1)),t("p",{class:"text-[12px] font-medium text-slate-700 lg:text-[13px]"},l(Z))])])]),t("main",S,[t("section",{class:"rounded-2xl bg-white p-4 shadow-sm lg:p-5"},[s[2]||(s[2]=t("p",{class:"text-[11px] font-semibold text-slate-500 lg:text-[12px]"}," บริษัท ",-1)),t("p",{class:"mt-1 text-[15px] font-semibold text-slate-900 lg:text-[16px]"},l(tt))]),t("section",z,[t("div",H,[s[3]||(s[3]=t("p",{class:"text-[11px] text-slate-500 lg:text-[12px]"}," รวมค้างถึงปัจจุบัน ",-1)),t("p",E,l(c(o.value)),1),s[4]||(s[4]=t("p",{class:"mt-1 text-[10px] text-slate-400 lg:text-[11px]"},"บาท",-1))]),t("div",I,[s[5]||(s[5]=t("p",{class:"text-[11px] text-slate-500 lg:text-[12px]"}," รวมค้างเกิน 30 วัน ",-1)),t("p",P,l(c(m.value)),1),t("p",U," คิดเป็น "+l(v.value.toFixed(1))+"% ของยอดรวม ",1)])]),t("section",$,[s[6]||(s[6]=t("div",{class:"mb-3 flex items-center justify-between"},[t("p",{class:"text-[13px] font-semibold text-slate-900 lg:text-[14px]"}," แผนภูมิอายุหนี้ (ตามช่วงวัน) "),t("p",{class:"text-[11px] text-slate-400 lg:text-[12px]"}," หน่วย: บาท ")],-1)),t("div",q,[(r(!0),x(g,null,b(p.value,a=>(r(),x("div",{key:a.key,class:"flex h-full flex-1 flex-col items-center justify-end gap-1"},[t("div",G,[t("div",{class:i(["w-[55%] rounded-t-xl rounded-b-md md:w-[50%]",w(a.tone)]),style:M({height:`${a.barHeight}%`})},null,6)]),t("p",{class:i(["mt-1 text-center text-[10px] font-semibold tabular-nums leading-tight md:text-[11px]",u(a.tone)])},l(y(a.amount)),3),t("p",J,l(a.shortLabel),1)]))),128))])]),t("section",K,[(r(!0),x(g,null,b(p.value,a=>(r(),x("article",{key:a.key,class:"rounded-2xl bg-white p-4 shadow-sm lg:p-5"},[t("div",O,[t("div",{class:i(["mt-0.5 h-10 w-1.5 rounded-full",k(a.tone)])},null,2),t("div",Q,[t("div",W,[t("p",X,l(a.label),1),t("span",{class:i(["rounded-full px-2 py-0.5 text-[10px] font-semibold lg:text-[11px]",F(a.tone)])},l(a.days),3)]),t("p",{class:i(["mt-1 text-[18px] font-bold tabular-nums lg:text-[19px]",u(a.tone)])},[N(l(c(a.amount))+" ",1),s[7]||(s[7]=t("span",{class:"text-[11px] font-medium text-slate-400 lg:text-[12px]"}," บาท ",-1))],2),t("p",Y," สัดส่วน "+l(a.percent.toFixed(1))+"% ของยอดรวมทั้งหมด ",1)])])]))),128))])])]))}});export{ot as default};
